----------------------------------------------------
----------------------------------------------------
------ Copyright (c) 2014-2018 FirstOne Media ------
----------------------------------------------------
------ Commercial use or Copyright removal is ------
------ strictly prohibited without permission ------
----------------------------------------------------
----------------------------------------------------

Shops = {}
Shops.companys = {
	[1] = {
		name = "Burger Shot",
		icon = 10,
		defaultMarkerOutPos = {10, 362.9, -75.2, 1002.1},
		franchise = true,
		markerColor = {255, 205, 0},
		shops = {
			[1] = {
				markerInPos = {-2356.3, 1008.0, 51.4}, -- SF, Juniper Hollow
			},
			[2] = {
				markerInPos = {-1912.4, 827.9, 35.8}, -- SF, Downtown //Kein McDrive
			},
			[3] = {
				markerInPos = {-2336.6, -166.9, 36.1}, -- SF, Garcia
			},
			[4] = {
				markerInPos = {2366.9, 2071.0, 11.5}, -- LV, Old Venturas Strip //Kein McDrive
			},
			[5] = {
				markerInPos = {2472.6, 2034.2, 11.6}, -- LV, Old Venturas Strip
			},
			[6] = {
				markerInPos = {1872.3, 2071.9, 11.6}, -- LV, Redsands East
			},
			[7] = {
				markerInPos = {2169.4, 2795.9, 11.4}, -- LV, Spinybed
			},
			[8] = {
				markerInPos = {810.5, -1616.2, 14.1}, -- LS, Marina
			},
			[9] = {
				markerInPos = {1199.2, -918.1, 43.7}, -- LS, Temple
			},
			[10] = {
				markerInPos = {1152.06, 2072.04, 11.76}, -- LV, Whitewood Estates
			},
		}
	},
	[2] = {
		name = "Well stacked Pizza Co.",
		icon = 29,
		defaultMarkerOutPos = {5, 372.4, -133.5, 1002.1},
		franchise = true,
		markerColor = {255, 205, 0},
		shops = {
			[1] = {
				markerInPos = {-1721.2, 1359.6, 7.7}, -- SF, bei Ottos Autos
			},
			[2] = {
				markerInPos = {-1808.6, 945.8, 25.4}, -- SF, 
			},
			[3] = {
				markerInPos = {2330.7, 2533.0, 11.4}, -- LV, Roca Escalante
			},
			[4] = {
				markerInPos = {2083.3, 2224.5, 11.6}, -- LV, Redsands East/The Emerald Isle
			},
			[5] = {
				markerInPos = {2540.9, 2149.6, 11.4}, -- LV, Old Venturas Strip (Starfish Casino)
			},
			[6] = {
				markerInPos = {2756.5, 2477.0, 11.8}, -- LV, Creek
			},
			[7] = {
				markerInPos = {2332.4, 75.1, 27.3}, -- LS, Red County, Palomino Creek 
			},
			[8] = {
				markerInPos = {1367.3, 248.4, 20.2}, -- LS, Red County, Montgomery
			},
			[9] = {
				markerInPos = {203.5, -202.4, 2.2}, -- LS, Red County, Blueberry
			},
			[10] = {
				markerInPos = {2105.2, -1806.5, 14.1}, -- LS, Idlewood
			},
			[11] = {
				markerInPos = {2638.8, 1849.8, 11.6}, -- LV, Starfish Casino
			},
		}
	},
	[3] = {
		name = "24/7",
		icon = 36,
		defaultMarkerOutPos = {18, -31.0, -92.0, 1004.1},
		franchise = true,
		markerColor = {0, 255, 0},
		shops = {
			[1] = {
				markerInPos = {-2442.7, 755.4, 35.7}, -- SF, Juniper Hill
			},
			[2] = {
				markerInPos = {1937.8, 2307.3, 11.4}, -- LV, Redsands East
			},
			[3] = {
				markerInPos = {2097.7, 2224.7, 11.6}, -- LV, The Emerald Isle
			},
			[4] = {
				markerInPos = {2247.6, 2396.2, 11.4}, -- LV, Roca Escalante
			},
			[5] = {
				markerInPos = {2546.6, 1972.7, 11.4}, -- LV, Starfish Casino
			},
			[6] = {
				markerInPos = {2194.9, 1991.0, 12.9}, -- LV, Starfish Casino
			},
			[7] = {
				markerInPos = {-127.0, 1188.3, 20.2}, -- ??, Fort Carson
			},
			[8] = {
				markerInPos = {-2165.7, -2416.6, 31.4}, -- ??, Whetstone / Angel Pine
			},
			[9] = {
				markerInPos = {1833.8, -1842.6, 14.2}, -- LS, Idlewood
			},
			[10] = {
				markerInPos = {1352.3, -1759.3, 14.1}, -- LS, Commerce
			},
			[11] = {
				markerInPos = {2884.5, 2454.0, 11.7}, -- LV, Creek
			},
			[12] = {
				markerInPos = {1315.5, -897.7, 40.2}, -- LS, Creek
			},
			[13] = {
				markerInPos = {2001.8, -1761.9, 14.2}, -- LS, Idlewood
			},
			[14] = {
				markerInPos = {2452.6, 2065.0, 11.5}, -- LV, Old Venturas Strip
			},
			
		}
	},
	[4] = {
		name = "Ammu-Nation",
		icon = 6,
		defaultMarkerOutPos = {1, 285.5, -41.8, 1002.1},
		franchise = true,
		markerColor = {18, 14, 79},
		shops = {
			[1] = {
				markerInPos = {1369.3, -1279.7, 14.1}, -- LS, Market
			},
			[2] = {
				markerInPos = {-2093.7, -2465.0, 31.2}, -- ??, Whetstone / Angel-Pine
			},
			[3] = {
				markerInPos = {793.9, 1687.1, 5.9}, -- ??, Bone Country
			},
			[4] = {
				markerInPos = {243.3, -178.3, 2.2}, -- LS, Red County, Blueberry
			},
			[5] = {
				markerInPos = {-1508.8, 2610.7, 56.4}, -- ??, El Quebardos
			},
			[6] = {
				markerInPos = {-316.2, 829.9, 14.8}, -- ??, Fort Carson
			},
			[7] = {
				markerInPos = {2333.1, 61.6, 27.4}, -- LS, Red County, Palomino Creek
			},
			[8] = {
				markerInPos = {2400.5, -1982.0, 14.1}, -- LS, Willowfield
			},
			[9] = {
				markerInPos = {-2626.7, 208.2, 5.5}, -- SF, Ocean Flats
			},
			[10] = {
				markerInPos = {2159.5, 943.2, 11.4}, -- LV, Come-A-Lot
			},
			[11] = {
				markerInPos = {2539.5, 2083.9, 11.4}, -- LV, Old Venturas Strip
			},
		}
	},
	[5] = {
		name = "Cluckinâ€™ Bell",
		icon = 14,
		defaultMarkerOutPos = {9, 365.0, -11.8, 1002.5},
		franchise = true,
		markerColor = {255, 205, 0},
		shops = {
			[1] = {
				markerInPos = {2419.8, -1509.0, 24.6}, -- LS, East Los Santos
			},
			[2] = {
				markerInPos = {928.9, -1353.0, 13.9}, -- LS, Market //Kein McDrive
			},
			[3] = {
				markerInPos = {2397.9, -1899.2, 14.1}, -- LS, Willowfield
			},
			[4] = {
				markerInPos = {-2155.3, -2460.1, 31.5}, -- ??, Whetstone, Angel Pine 
			},
			[5] = {
				markerInPos = {-1816.5, 618.7, 35.8}, -- SF, Downtown //Kein McDrive
			},
			[6] = {
				markerInPos = {-2672.3, 257.9, 5.2}, -- SF, Ocean Flats //Kein McDrive
			},
			[7] = {
				markerInPos = {-1213.9, 1830.4, 42.5}, -- ??, Tierra Robada //Kein McDrive
			},
			[8] = {
				markerInPos = {173.0, 1177.1, 15.4}, -- ??, Bone Country (bei Fort Carson) //Kein McDrive
			},
			[9] = {
				markerInPos = {2845.9, 2415.5, 11.7}, -- LV, Creek //Kein McDrive
			},
			[10] = {
				markerInPos = {2101.9, 2228.9, 11.6}, -- LV, The Emerald Isle //Kein McDrive
			},
			[11] = {
				markerInPos = {2393.1, 2041.6, 11.4}, -- LV, Old Venturas Strip //Kein McDrive
			},
			[12] = {
				markerInPos = {2638.6, 1671.8, 11.6}, -- LV, Pilgrim //Kein McDrive
			},
		}
	},
	[6] = {
		name = "Klamottenladen",
		icon = 45,
		defaultMarkerOutPos = {18, 161.4, -97.1, 1002.4}, -- default ist das ZIP interior
		franchise = true,
		markerColor = {146, 98, 57},
		shops = {
			[1] = {
				markerInPos = {-1882.3, 866.5, 35.8}, -- SF, Downtown //ZIP
				typ = "zip",
			},
			[2] = {
				markerInPos = {2090.5, 2224.7, 11.6}, -- LV, The Emerald Isle //ZIP
				typ = "zip",
			},
			[3] = {
				markerInPos = {2101.9, 2257.5, 11.6}, -- LV, The Emerald Isle //Binco
				markerOutPos = {15, 207.6, -111.3, 1005.8},
				typ = "binco",
			},
			[4] = {
				markerInPos = {2572.1, 1904.9, 11.6}, -- LV, Starfish Casino //ZIP
				typ = "zip",
			},
			[5] = {
				markerInPos = {1457.1, -1137.1, 24.5}, -- LS, Downtown Los Santos //ZIP
				typ = "zip",
			},
			[6] = {
				markerInPos = {2244.3, -1665.5, 16.1}, -- LS, Ganton //Binco
				markerOutPos = {15, 207.6, -111.3, 1005.8},
				typ = "binco",
			},
			[7] = {
				markerInPos = {-2373.8, 910.1, 46.0}, -- SF, Juniper Hill //Binco
				markerOutPos = {15, 207.6, -111.3, 1005.8},
				typ = "binco",
			},
			[8] = {
				markerInPos = {1657.0, 1733.3, 11.4}, -- LV, LV Airport //Binco
				markerOutPos = {15, 207.6, -111.3, 1005.8},
				typ = "binco",
			},
			[9] = {
				markerInPos = {2779.7, 2453.9, 11.7}, -- LV, Creek //Sub Urban
				markerOutPos = {1, 203.7, -50.7, 1002.4},
				typ = "suburban",
			},
			[10] = {
				markerInPos = {2802.9, 2430.7, 11.7}, -- LV, Creek //Victim
				markerOutPos = {5, 227.6, -8.1, 1002.8},
				typ = "victim",
			},
			[11] = {
				markerInPos = {-1694.2, 951.2, 25.5}, -- SF, Downtown //Victim
				markerOutPos = {5, 227.6, -8.1, 1002.8},
				typ = "victim",
			},
			[12] = {
				markerInPos = {461.7, -1500.9, 31.6}, -- LS, Rodeo //Victim
				markerOutPos = {5, 227.6, -8.1, 1002.8},
				typ = "victim",
			},
			[13] = {
				markerInPos = {2112.8, -1211.5, 24.6}, -- LS, Jefferson //Sub Urban
				markerOutPos = {1, 203.7, -50.7, 1002.4},
				typ = "suburban",
			},
			[14] = {
				markerInPos = {-2489.9, -29.1, 26.2}, -- SF, Hashbury //Sub Urban
				markerOutPos = {1, 203.7, -50.7, 1002.4},
				typ = "suburban",
			},
			[15] = {
				markerInPos = {499.6, -1360.8, 17.0}, -- LS, Rodeo //ProLaps
				markerOutPos = {3, 207.1, -140.2, 1004.1},
				typ = "prolaps",
			},
			[16] = {
				markerInPos = {2826.0, 2407.4, 11.7}, -- LV, Creek //ProLaps
				markerOutPos = {3, 207.1, -140.2, 1004.1},
				typ = "prolaps",
			},
			[17] = {
				markerInPos = {454.2, -1477.9, 31.5}, -- LS, Rodeo //Didier Sachs
				markerOutPos = {14, 204.3, -168.9, 1001.1},
				typ = "didiersachs",
			},
		}
	},
	[7] = {
		name = "Sexshop",
		icon = 21,
		defaultMarkerOutPos = {3, -100.4, -25.0, 1001.5},
		franchise = true,
		markerColor = {246, 124, 146},
		shops = {
			[1] = {
				markerInPos = {1087.7, -922.5, 44.0}, -- LS, Mulholland
			},
			[2] = {
				markerInPos = {2085.1, 2074.1, 11.7}, -- LV, Redsands East
			},
			[3] = {
				markerInPos = {2420.5, 2065.2, 11.4}, -- LV, Old Venturas Strip
			},
			[4] = {
				markerInPos = {953.8, -1336.8, 14.1}, -- LS, Market
			},
			[5] = {
				markerInPos = {1940, -2116, 14.3}, -- LS, EL Corona
			},			
		}
	},
	[8] = {
		name = "Donut Shop",
		icon = 17,
		defaultMarkerOutPos = {17, 377.1, -193.3, 1001.2},
		franchise = true,
		markerColor = {0, 87, 32},
		shops = {
			[1] = {
				markerInPos = {-2767.9, 788.9, 53.4}, -- SF, Palisades
			},
			[2] = {
				markerInPos = {1038.1, -1340.7, 14.3}, -- LS, Market
			},
			[3] = {
				markerInPos = {-144.0, 1225.2, 20.5}, -- ??, Bone Country
			},
		}
	},
	[9] = {
		name = "Tankstellen",
		defaultMarkerOutPos = {6, -27.36312, -58.00684, 1004.1},
		franchise = true,
		markerColor = {0, 99, 203},
		shops = {
			[1] = {
				markerInPos = {-2034.43970, 148.55226, 29.33594}, -- SF BHF, Doherty
			},
			[2] = {
				markerInPos = {-1676.02295, 431.98245, 7.67969}, -- SF Army, Easter Basin
			},
			[3] = {
				markerInPos = {-2420.12451, 969.80804, 45.89688}, -- SF Juniper Hollow
			},
			[4] = {
				markerInPos = {-1465.68530, 1873.42786, 33.2}, -- Tierra Robada #1
			},
			[5] = {
				markerInPos = {639.02911, 1683.32239, 7.78750}, -- Bone County
			},
			[6] = {
				markerInPos = {-1320.48035, 2698.65234, 50.96628}, -- Tierra Robada #2
			},
			[7] = {
				markerInPos = {70.71750, 1214.04382, 19.41762}, -- Fort Carson
			},
			[8] = {
				markerInPos = {1599.09216, 2221.83911, 11.56250}, -- Redsands West, LV
			},
			[9] = {
				markerInPos = {2150.80713, 2733.86597, 11.77635}, -- Spinybed, LV
			},
			[10] = {
				markerInPos = {2187.71240, 2469.69775, 11.84219}, -- The Emerald Isle, LV
			},
			[11] = {
				markerInPos = {2117.46338, 896.77600, 11.87969}, -- LV South
			},
			[12] = {
				markerInPos = {2637.33350, 1129.67749, 11.87969}, -- LV East
			},
			[13] = {
				markerInPos = {1383.29944, 465.53726, 20.89187}, -- Mountgomery
			},
			[14] = {
				markerInPos = {661.36279, -573.36884, 17.03594}, -- Dillimore
			},
			[15] = {
				markerInPos = {1000.59601, -919.94586, 43.02813}, -- Temple, LS
			},
			[16] = {
				markerInPos = {1928.58203, -1776.26770, 14.24688}, -- Idlewood, LS
			},
			[17] = {
				markerInPos = {-78.40403, -1169.97229, 2.73536}, -- Flint County
			},
			[18] = {
				markerInPos = {-1623.53064, -2693.21338, 49.34266}, -- Whetstone
			},
			[19] = {
				markerInPos = {-2231.46606, -2558.28516, 32.52188}, -- Anglepine
			},
		}
	},
	[10] = {
		name = "Bar & Strip",
		defaultMarkerOutPos = {0, 0, 0, 0},
		franchise = true,
		markerColor = {255,20,147},
		shops = {
			[1] = {
				markerInPos		= {2310.0, -1643.6, 15.5}, -- Bar, LS, Groove street, Ten Green Bottles
				markerOutPos	= {11, 501.9, -67.6, 999.4},
				icon			= 49,
			},
			[2] = {
				markerInPos		= {2043.9, -1089.5, 25.1}, -- Bar & Seafood, LS, Las Colinas, La Cucaracha
				markerOutPos	= {1, 681.5, -446.5, -25.1},
				icon			= 49,
			},
			[3] = {
				markerInPos		= {681.7, -473.6, 17.2}, -- Bar, LS, Dillimore (Red Country), The Welcome Pump
				markerOutPos	= {1, 681.5, -446.5, -25.1},
				icon			= 49,
			},
			[4] = {
				markerInPos		= {2441.2, 2065.0, 11.5}, -- Bar, LV, Old Venturas Strip, The Craw Bar
				markerOutPos	= {11, 501.9, -67.6, 999.4},
				icon			= 49,
			},
			[5] = {
				markerInPos		= {2490.1, 2065.2, 11.5}, -- Disko, LV, Old Venturas Strip, Vice
				markerOutPos	= {17, 493.3, -24.6, 1001.5},
				icon			= 48,
			},
			[6] = {
				markerInPos		= {-89.5, 1378.3, 11.0}, -- Bar, LV, Bone Country, Lil' Probe In (Ufo Bar)
				markerOutPos	= {18, -229.0, 1401.2, 28.3},
				icon			= 49,
			},
			[7] = {
				markerInPos		= {-2242.2, -88.1, 35.9}, -- Bar, SF, Garcia, Misty's
				markerOutPos	= {18, -229.0, 1401.2, 28.3},
				icon			= 49,
			},
			[8] = {
				markerInPos		= {-2550.7, 193.8, 6.9}, -- Disko, SF, Queensp, Gaydaa Station
				markerOutPos	= {17, 493.3, -24.6, 1001.5},
				icon			= 48,
			},
			[9] = {
				markerInPos		= {2361.5, -1332.6, 24.6}, -- Bar, LS, East LS, Attica Bar
				markerOutPos	= {11, 501.9, -67.6, 999.4},
				icon			= 49,
			},
			
			[10] = {
				markerInPos		= {1836.6, -1682.5, 13.9}, -- Strip, LS, Alhambra
				markerOutPos	= {3, -2636.7, 1402.5, 907},
				icon			= 59,
			},
			[11] = {
				markerInPos		= {2543.2, 1025.1, 11.5}, -- Strip, LV, Come-A-Lot
				markerOutPos	= {3, 1212.2, -26.3, 1001.7},
				icon			= 59,
			},
			[12] = {
				markerInPos		= {-2624.6, 1412.5, 7.7}, -- Strip, SF, Battery Point (golden gate bridge)
				markerOutPos	= {3, -2636.7, 1402.5, 907},
				icon			= 59,
			},
			[13] = {
				markerInPos		= {693.6, 1967.3, 6.2}, -- Strip, LV, Bone Country, Big Spread
				markerOutPos	= {2, 1204.8, -13.6, 1001.6},
				icon			= 59,
			},
			[14] = {
				markerInPos		= {2421.5, -1219.4, 26.2}, -- Strip, LS, East LS, The Big Pen
				markerOutPos	= {2, 1204.8, -13.6, 1001.6},
				icon			= 59,
			},
			[15] = {
				markerInPos		= {2506.8, 2120.5, 11.5}, -- Strip, LV, Old Venturas Strip
				markerOutPos	= {3, -2636.7, 1402.5, 907},
				icon			= 59,
			},
			
		}
	},
	
	[11] = {
		name = "SkyKea",
		defaultMarkerOutPos = {0, 0, 0, 0},
		markerColor = {230, 90, 25},
		icon = 11,
		shops = {
			[1] = {
				markerInPos		= {1081.2, -1696.8, 14.2}, 
				markerOutPos		= {80, 383.5, -1824.8, 58.4},
			},
		}
	},
	
	[12] = {
		name = "Transfender",
		franchise = true,
		onlyFranchise = true,
		shops = {
			[1] = { -- Temple
				pos			= {1041.2, -1016.8, 31.2},
				spawnOut	= {1048.7, -1029.0, 32.1, 240},
				garageID	= 10,
			},
			[2] = { -- Doherty
				pos			= {-1936.1, 245.2, 33.6},
				spawnOut	= {-1931.3, 222.0, 34.3, 90},
				garageID	= 18,
			},
			[3] = { -- Come-A-Lot
				pos			= {2386.8, 1051.8, 9.9},
				spawnOut	= {2381.2, 1031.6, 10.9, 180},
				garageID	= 33,
			},
		}
	},
}

function Shops:Init()
	local count = 0
	for cID, company in pairs(self.companys) do
		
		for sID, shop in pairs(company.shops) do
			
			if (not company.onlyFranchise) then
				
				local xi, yi, zi	= unpack(shop.markerInPos)
				local r, g, b		= unpack(company.markerColor)
				
				local icon = company.icon
				if (not icon) then
					icon = shop.icon
				end
				if (icon) then
					shop.blip		= createBlip(xi, yi, zi, icon, 2, 255, 0, 0, 255, 0, 400, root)
				end
				
				shop.markerIn		= createMarker(xi, yi, zi, "arrow", 1.0, r, g, b, 255, root)
				shop.franchise		= {}
				
				local mOutPos = {}
				if (shop.markerOutPos ~= nil) then
					mOutPos = shop.markerOutPos
				else
					mOutPos = company.defaultMarkerOutPos
				end
				local i, xo, yo, zo	= unpack(mOutPos)
				shop.markerOut		= createMarker(xo, yo, zo, "arrow", 1.0, r, g, b, 255, root)
				setElementInterior(shop.markerOut, i)
				setElementDimension(shop.markerOut, cID..sID)
				
				addEventHandler("onMarkerHit", shop.markerIn, function(elem, dim)
					if (dim == true) then
						if (getElementType(elem) == "player") then
							if (not getElementData(elem, "intchange")) then
								setElementData(elem, "currentCID", cID)
								setElementData(elem, "currentSID", sID)
								triggerEvent("onShopEnter", elem, cID, sID)
							end
							
							local i, x, y, z = unpack(mOutPos)
							fadeElementInterior(elem, i, x, y, z, 0, cID..sID)
						end
					end
				end)
				addEventHandler("onMarkerHit", shop.markerOut, function(elem, dim)
					if (dim == true) then
						if (getElementType(elem) == "player") then
							
							if (not getElementData(elem, "intchange")) then
								triggerEvent("onShopLeave", elem, cID, sID)
							end
							
							if (getElementData(elem, "haspizza") == true) then
								destroyPizza(elem)
							end
							if (getElementData(elem, "haschicken") == true) then
								destroyChicken(elem)
							end
							if (getElementData(elem, "hasburger") == true) then
								destroyBurger(elem)
							end
							if (getElementData(elem, "hasdonut") == true) then
								destroyDonut(elem)
							end
							
							if (not getElementData(elem, "intchange")) then
								removeElementData(elem, "currentCID")
								removeElementData(elem, "currentSID")
							end
							
							local x, y, z = unpack(shop.markerInPos)
							fadeElementInterior(elem, 0, x, y, z, 0, 0)
							
						end
					end
				end)
				
			end
			
			count = count + 1
			
		end
	end
	outputDebugString("[Systems->Shops->Init()]: Created "..count.." Shops from "..#self.companys.." Companys.")
	return true
end
addEventHandler("onResourceStart", resourceRoot, function(...) Shops:Init(...) end, true, "low-10")


